query Me {
  me {
    id
    username
    avatar
    verified
  }
}

query MeDetail {
  me {
    ...UserFields
    profilemodel {
      ...ProfileFields
    }
    trips {
      edges {
        node {
          ...TripSimpleFields
        }
      }
    }
  }
}

query UserDetail($userId: ID!, $followedUserId: ID!) {
  user(id: $userId) {
    ...UserFields
    profilemodel {
      ...ProfileFields
    }
    trips {
      edges {
        node {
          ...TripSimpleFields
        }
      }
    }
  }
  followedUser(id: $followedUserId)
}

query isFollowed($followedUserId: ID!) {
  followedUser(id: $followedUserId)
}

query userFollowings($userId: ID!) {
  user(id: $userId) {
    followingUsers {
      edges {
        node {
          followed {
            username
            avatar
            id
          }
        }
      }
    }
  }
}

query UserFollowers($userId: ID!) {
  user(id: $userId) {
    followerUsers {
      edges {
        node {
          follower {
            id
            username
            avatar
          }
        }
      }
    }
  }
}

query MeFollowings {
  me {
    followingUsers {
      edges {
        node {
          followed {
            id
            username
            avatar
          }
        }
      }
    }
  }
}

query MeFollowers {
  me {
    followerUsers {
      edges {
        node {
          follower {
            id
            username
            avatar
          }
        }
      }
    }
  }
}

query AllProfiles {
  allUsers {
    edges {
      node {
        id
        username
        avatar
        trips {
          edges {
            node {
              id
            }
          }
        }
        profilemodel {
          tripStatus
          header
          about
          followersCount
          followingsCount
          achievements {
            edges {
              node {
                title
                image
              }
            }
          }
        }
      }
    }
  }
}

query MeSavedTrips {
  myTripCollection {
    edges {
      node {
        trip {
          ...TripSimpleFields
        }
      }
    }
  }
}

query MyTrips($published: Boolean) {
  allMyTrip(published: $published) {
    edges {
      node {
        ...TripSimpleFields
      }
    }
  }
}

fragment UserFields on UserType {
  id
  username
  avatar
  verified
  email
  phoneNumber
  dateJoined
  # firstName
  # lastName
}

fragment ProfileFields on ProfileType {
  about
  tripStatus
  header
  gender
  followersCount
  followingsCount
}

mutation DeleteTrip($deleteTripTripId: ID!) {
  deleteTrip(tripId: $deleteTripTripId) {
    deleted
  }
}

mutation PublisTrip($tripId: ID!) {
  publishTrip(tripId: $tripId) {
    success
    errors
    trip {
      published
    }
  }
}

mutation UnPublisTrip($tripId: ID!) {
  undoPublishTrip(tripId: $tripId) {
    success
    errors
    trip {
      published
    }
  }
}
